webpackJsonp([2,0],[function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var o=s(61),r=i(o),n=s(55),a=i(n),l=s(9);r["default"].filter("time",l.time),r["default"].config.debug=!0,new r["default"]({el:"body",components:{App:a["default"]}})},,,,,,,,,function(t,e){"use strict";function s(t){return n.href=t,n.hostname}function i(t){var e=Date.now()/1e3-Number(t);return 3600>e?o(~~(e/60)," minute"):86400>e?o(~~(e/3600)," hour"):o(~~(e/86400)," day")}function o(t,e){return 1===t?t+e:t+e+"s"}function r(t){return t=parseInt(t,10),parseInt(t/60)+"小时"+parseInt(t%60)+"分"}Object.defineProperty(e,"__esModule",{value:!0}),e.domain=s,e.fromNow=i,e.time=r;var n=document.createElement("a")},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(16),r=i(o),n=s(56),a=i(n),l=s(58),c=i(l);e["default"]={data:function(){return{title:"vue - 列车时刻表",list:[],train_types:[{name:"全部车次",key:""},{name:"高铁城际(G/C)",key:"g"},{name:"动车(D)",key:"d"},{name:"特快(T)",key:"t"},{name:"其它类型",key:"other"}],from_stations:[{name:"全部出发站",key:""}]}},components:{AppHeader:a["default"],ListBox:c["default"]},ready:function(){var t=this;fetch("./static/data.json").then(function(t){return t.json()}).then(function(e){var s={},i={};t.list=e.map(function(t){var e=t.train_number[0].toLowerCase();s[e]=1,i[t.from_station]=1;var o={train_type:e,train_number:t.train_number,from_station:t.from_station,to_station:t.to_station,from_time:t.from_time,to_time:t.to_time,use_time:t.use_time,ticket_number:0,min_price:0,seats:[]},r={};t.seats.forEach(function(t){o.ticket_number+=t.seat_yupiao,(0===o.min_price||o.min_price>t.seat_price)&&(o.min_price=t.seat_price);var e=t.seat_name.replace(/上中下/,"");r[e]?r[e]+=parseInt(t.seat_yupiao,10):r[e]=parseInt(t.seat_yupiao,10)});var n=["二等座","一等座","硬座","硬卧","软卧","商务座","无座","动卧","特等座","软座"];return n.forEach(function(t){r[t]&&o.seats.push({name:t,number:r[t]})}),o}),(0,r["default"])(i).forEach(function(e){t.from_stations.push({name:e,key:e})})})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["title"]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["train_types","from_stations"],data:function(){return{show_panel:"",active_key:""}},methods:{showPanel:function(t){this.show_panel=t},hidePanel:function(){this.show_panel=""},active:function(t){this.active_key=t},filterBy:function(){this.$dispatch("filter-by",this.active_key),this.hidePanel()}}}},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(59),r=i(o),n=s(60),a=i(n),l=s(57),c=i(l);e["default"]={props:["list","train_types","from_stations"],data:function(){return{sort_key:"from_time",sort_order:1,filter_key:"",filter_field:["train_type","from_station"]}},methods:{sortBy:function(t,e){this.sort_key=t,this.sort_order=e},filterBy:function(t){this.filter_key=t}},components:{ListItem:r["default"],SortBar:a["default"],FilterBar:c["default"]}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["item"]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{cls_from_time:"up",cls_use_time:"",cls_min_price:"",sort_key:"from_time",sort_order:1}},methods:{sortBy:function(t){this.sort_key===t?this.sort_order=-this.sort_order:this.sort_order=1,this.sort_key=t,this.cls_from_time=this.cls_use_time=this.cls_min_price="",this["cls_"+t]=1==this.sort_order?"up":"down",this.$dispatch("sort-by",this.sort_key,this.sort_order)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports="<app-header :title=title></app-header> <div id=app> <list-box :list=list :train_types=train_types :from_stations=from_stations></list-box> </div>"},function(t,e){t.exports="<ul class=filter-bar> <li class=filter-item @click=\"showPanel('train_types')\"> 车次类型 <i class=icon-sec></i> </li> <li class=filter-item @click=\"showPanel('from_stations')\"> 出发站 <i class=icon-sec></i> </li> <li class=filter-item> 更多 <i class=icon-sec></i> </li> </ul> <div v-if=\"show_panel === 'train_types'\" class=filter-layer> <div class=panel> <h3> <span class=no @click=hidePanel>取消</span> <span class=ok @click=filterBy>确定</span> </h3> <ul> <li v-for=\"it of train_types\" :class=\"active_key === it.key ? 'active' : ''\" @click=active(it.key)> <span>{{it.name}}</span> </li> </ul> </div> </div> <div v-if=\"show_panel === 'from_stations'\" class=filter-layer> <div class=panel> <h3> <span class=no @click=hidePanel>取消</span> <span class=ok @click=filterBy>确定</span> </h3> <ul> <li v-for=\"it of from_stations\" :class=\"active_key === it.key ? 'active' : ''\" @click=active(it.key)> <span>{{it.name}}</span> </li> </ul> </div> </div>"},function(t,e){t.exports='<sort-bar @sort-by=sortBy></sort-bar> <filter-bar :train_types=train_types :from_stations=from_stations @filter-by=filterBy></filter-bar> <ul class=list-box> <list-item v-for="item of list | orderBy sort_key sort_order | filterBy filter_key in filter_field" track-by=train_number :item=item> </list-item> </ul>'},function(t,e){t.exports='<li class=list-item> <div class=train-number> <div class=fl>{{item.train_number}} | 其它</div> <div class=fr>{{item.use_time | time}}</div> </div> <div class=train-detail> <div class=departure> <span class=departure-time>{{item.from_time}}</span> <span class=departure-attr><i class="icon-circle s-icon1"></i>{{item.from_station}}</span> <span class="fr price">￥{{item.min_price}}起</span> </div> <div class=arrival> <span class=arrival-time>{{item.to_time}}</span> <span class=arrival-attr><i class="icon-circle s-icon2"></i>{{item.to_station}}</span> <span class=fr>{{item.ticket_number}}张</span> </div> </div> <div class=train-info> <span v-for="seat of item.seats">{{seat.name}}({{seat.number}}) </span> </div> </li>'},function(t,e){t.exports="<ul class=sort-bar> <li class=sort-item @click=\"sortBy('from_time')\"> 出发时间 <i class=icon-sort :class=cls_from_time></i> </li> <li class=sort-item @click=\"sortBy('use_time')\"> 耗时 <i class=icon-sort :class=cls_use_time></i> </li> <li class=sort-item @click=\"sortBy('min_price')\"> 价格 <i class=icon-sort :class=cls_min_price></i> </li> </ul>"},function(t,e){t.exports='<div class=header _v-e0b3443a=""> <h1 _v-e0b3443a="">{{title}}</h1> </div>'},function(t,e,s){var i,o;s(43),i=s(10),o=s(49),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,s){var i,o;s(48),i=s(11),o=s(54),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,s){var i,o;s(44),i=s(12),o=s(50),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,s){var i,o;s(45),i=s(13),o=s(51),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,s){var i,o;s(46),i=s(14),o=s(52),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,s){var i,o;s(47),i=s(15),o=s(53),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}]);
//# sourceMappingURL=app.f714b50475ad4e2d51e8.js.map
