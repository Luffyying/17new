

这里会存放14个性能优化的规则

1.减少HTTP请求

实际上，只有10%~20%的最终用户是花在从Web服务器获取HTML文档并传送到浏览器的，剩下的时间花在了用户体验上。

这里有几个方法：

(1)图片地图 

就是将超链接关联到图片上，例如导航栏或按钮

（2）css sprites

通过css的background-positin属性指定了css sprites的偏移量

(3)内联图片

通过使用data:URL模式可以在web页面中包含图片但无需任何额外的HTTP请求，我们都很熟悉包含http:模式的URL，数据就在其URL自身之中，其格式：data:[<mediatype>][;base64,<data>]

	<img alt="red star" src="data:image/git;base64,xxxx">
 

由于data:URL是内联在页面中的，在跨越不同页面时不会被缓存，正确的做法是使用CSS并将内联图片作为背景，将该css规则放在外部样式表中，这意味着可以缓存了


2.使用内容分发网络


内容分发网络--CDN是一组分布在多个不同地理位置的Web服务器，用于更加有效的向用户发布内容，
CDN是一个代理服务器，同时也是一个缓存，除了缩短响应时间之外，CDN还可以带来其他优势，他们的服务包括备份，扩展存储能力和进行缓存，还有助于缓和web流量峰值压力，而且依赖CDN的一个缺点是：CDN服务供应商在其所有客户之间共享WEB服务器组


3.添加Expires头

对于网站首页，包含了大量的组件，并且其数量在不断增长，通过使用一个长久的Expires头，这些组件可以被缓存，

4.压缩组件

压缩的成本有：服务器端会花费额外的cup周期来完成压缩，客户端要对压缩文件进行解压缩，通过压缩，可以大大减少页面的大小，这里的压缩主要是对于HTML,样式表以及脚本的压缩，web客户端可以通过HTTP请求中Accept-Encoding头来标识对压缩的支持：

	Accept-Encoding:gzip,deflate

5.将样式表放在顶部

在浏览器和用户等待位于底部的样式表时，浏览器会延迟显示任何可视化组件，这样的现象称之为'白屏'。（在IE中最为明显）
将样式表包含在文档中，有两种方式：

（1）使用LINK标签

（2）带有@import url("style.css")

一个STYLE可以包含多个@import规则，但是必须放在所有其他规则之前

	<style type='text/css'>
		
		@import url('./a.css');
		.s{
			color:red;
		}
		
	</style>

但是使用link标签来代替@import还能带来性能上的收益，使用@import规则会导致组件下载的无序性，

(6)将脚本放在底部
在使用样式表的时候，页面逐步呈现会被阻止，直到所有的样式表下载完成，这就是最好将样式表移到HEAD中的原因，这样就能首先下载它们而不会阻止页面呈现，使用脚本时，对于所有脚本以下的内容，逐步呈现都被阻塞了，所以将脚本放在页面靠下的地方。

(7)避免CSS表达式
css表达式是动态设置css属性的一种强大（危险的）的方式，举个栗子，对于很多动态页面，可以使用css表达式将背景色设置为每小时变化一次(IE5及以后版本支持)

	background-color:expression((new Date()).getHours()%2 ? "#B7D4FF":"#000000")

(8)使用外部的javascript和css表达式

内联的样式和js有一个好处就是响应速度更快，因为少请求了很多http请求，但是，js文件和css文件有机会被浏览器缓存起来，至少那些包含动态内容的HTML文档，通常不会被配置为可以进行缓存的文件，可以根据页面查看来的频率来进一步决定二者的使用，







