{"version":3,"sources":["main.js"],"names":["define","ko","Sammy","context","self","parent","data","loading","observable","palette","menus","observableArray","id","title","route","focusMenu","hideLeftMenu","showLeftNav","templateCache","get","moduleName","params","splat","itemId","itemIndex","name","mapping","template","getTmpl","afterRender","$","trigger","run","test","window","main"],"mappings":";;AAAAA,OAAO,CAAC,UAAD,EAAa,OAAb,CAAP,EAA8B,UAAUC,EAAV,EAAcC,KAAd,EAAqB;AAC/C,WAAO,UAAUC,OAAV,EAAmB;AACtB,YAAIC,OAAO,IAAX;;AAEAA,aAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACAD,aAAKE,IAAL,GAAYH,QAAQG,IAApB;;AAEAF,aAAKG,OAAL,GAAeN,GAAGO,UAAH,CAAc,KAAd,CAAf;AACAJ,aAAKK,OAAL,GAAeR,GAAGO,UAAH,CAAc,EAAd,CAAf;;AAEAJ,aAAKM,KAAL,GAAaT,GAAGU,eAAH,CAAmB,CAC5B;AACIC,gBAAI,MADR;AAEIC,mBAAO,MAFX;AAGIC,mBAAO;AAHX,SAD4B,EAM5B;AACIF,gBAAI,QADR;AAEIC,mBAAO,MAFX;AAGIC,mBAAO;AAHX,SAN4B,EAW5B;AACIF,gBAAI,WADR;AAEIC,mBAAO,OAFX;AAGIC,mBAAO;AAHX,SAX4B,EAgB5B;AACIF,gBAAI,MADR;AAEIC,mBAAO,OAFX;AAGIC,mBAAO;AAHX,SAhB4B,EAqB5B;AACIF,gBAAI,QADR;AAEIC,mBAAO,MAFX;AAGIC,mBAAO;AAHX,SArB4B,CAAnB,CAAb;;AA6BAV,aAAKW,SAAL,GAAiBd,GAAGO,UAAH,CAAc,MAAd,CAAjB;AACAJ,aAAKY,YAAL,GAAoBf,GAAGO,UAAH,CAAc,KAAd,CAApB,CAvCsB,CAuCoB;AAC1CJ,aAAKE,IAAL,CAAUW,WAAV,CAAsB,KAAtB,EAxCsB,CAwCQ;AAC9Bf,cAAM,YAAW;AACb,iBAAKgB,aAAL,GAAqB,YAAY,CAAE,CAAnC;AACA,iBAAKC,GAAL,CAAS,qDAAT,EAAgE,YAAU;;AAEtE,oBAAIC,aAAa,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAjB;AACAlB,qBAAKE,IAAL,CAAUiB,MAAV,GAAmB,KAAKF,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAnB;AACAlB,qBAAKE,IAAL,CAAUkB,SAAV,GAAsB,KAAKH,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAtB;AACAlB,qBAAKW,SAAL,CAAeK,UAAf;;AAEAhB,qBAAKK,OAAL,CAAa;AACTgB,0BAAMrB,KAAKE,IAAL,CAAUoB,OAAV,CAAkBP,GAAlB,CAAsBC,UAAtB,CADG;AAETO,8BAAUvB,KAAKE,IAAL,CAAUoB,OAAV,CAAkBE,OAAlB,CAA0BR,UAA1B,CAFD;AAGTd,0BAAM,EAAED,QAAQD,IAAV,EAAgBE,MAAMF,KAAKE,IAA3B,EAHG;AAITuB,iCAAa,uBAAM;AACfC,0BAAE,MAAF,EAAUC,OAAV,CAAkBX,aAAW,aAA7B;AACAhB,6BAAKG,OAAL,CAAa,KAAb;AACH;AAPQ,iBAAb;AASAH,qBAAKG,OAAL,CAAa,IAAb;AACH,aAjBD;AAmBH,SArBD;;AAuBAL,gBAAQ8B,GAAR;;AAEA,YAAI5B,KAAKE,IAAL,CAAU2B,IAAd,EAAoB;AAChBC,mBAAOC,IAAP,GAAc/B,IAAd;AACH;AAEJ,KAtED;AAuEH,CAxED","file":"main.js","sourcesContent":["define(['knockout', 'sammy'], function (ko, Sammy) {\r\n    return function (context) {\r\n        let self = this;\r\n\r\n        self.parent = context.parent;\r\n        self.data = context.data;\r\n\r\n        self.loading = ko.observable(false);\r\n        self.palette = ko.observable({});\r\n\r\n        self.menus = ko.observableArray([\r\n            {\r\n                id: 'mark',\r\n                title: '题目标记',\r\n                route: '#/mark'\r\n            },\r\n            {\r\n                id: 'verify',\r\n                title: '题目验证',\r\n                route: '#/verify'\r\n            },\r\n            {\r\n                id: 'statistic',\r\n                title: '工作量统计',\r\n                route: '#/statistic'\r\n            },\r\n            {\r\n                id: 'list',\r\n                title: '白名单管理',\r\n                route: '#/list'\r\n            },\r\n            {\r\n                id: 'config',\r\n                title: '配置管理',\r\n                route: '#/config'\r\n            }\r\n        ]);\r\n\r\n\r\n        self.focusMenu = ko.observable('mark');\r\n        self.hideLeftMenu = ko.observable(false); //是否隐藏左侧菜单\r\n        self.data.showLeftNav(false); //隐藏顶部左侧导航\r\n        Sammy(function (){\r\n            this.templateCache = function () {};\r\n            this.get(/\\/multiple_answers.*\\#\\/([^/]+)\\/?([^/]*)\\/?([^/]*)/, function(){\r\n\r\n                let moduleName = this.params.splat[0];\r\n                self.data.itemId = this.params.splat[1];\r\n                self.data.itemIndex = this.params.splat[2];\r\n                self.focusMenu(moduleName);\r\n\r\n                self.palette({ \r\n                    name: self.data.mapping.get(moduleName), \r\n                    template: self.data.mapping.getTmpl(moduleName), \r\n                    data: { parent: self, data: self.data }, \r\n                    afterRender: () => {\r\n                        $('body').trigger(moduleName+'_page_ready');\r\n                        self.loading(false);\r\n                    }\r\n                });\r\n                self.loading(true);\r\n            });\r\n\r\n        });\r\n\r\n        Sammy().run();\r\n\r\n        if (self.data.test) {\r\n            window.main = self;\r\n        }\r\n\r\n    };\r\n});\r\n"],"sourceRoot":"/source/"}